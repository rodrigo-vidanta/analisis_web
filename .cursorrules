# ============================================
# REGLAS DEL PROYECTO - PQNC QA AI PLATFORM
# ============================================
# 
# âš ï¸ ESTADO: PRODUCCIÃ“N ACTIVA
# âš ï¸ VERSIÃ“N: v2.1.0
# âš ï¸ FECHA ÃšLTIMA ACTUALIZACIÃ“N: 25 de Noviembre 2025
#
# ============================================

## ğŸš¨ REGLAS CRÃTICAS DE PRODUCCIÃ“N

### âŒ PROHIBIDO SIN AUTORIZACIÃ“N EXPLÃCITA

1. **DESPLIEGUES AUTOMÃTICOS**
   - âŒ NUNCA hacer push a Git sin autorizaciÃ³n explÃ­cita del usuario
   - âŒ NUNCA hacer deploy a AWS sin solicitud explÃ­cita del usuario
   - âŒ NUNCA ejecutar scripts de despliegue automÃ¡ticamente
   - âœ… SOLO hacer commits/push cuando el usuario lo solicite explÃ­citamente
   - âœ… SOLO hacer deploy cuando el usuario lo solicite explÃ­citamente

2. **CÃ“DIGO DE PRUEBA Y MOCKS**
   - âŒ NUNCA generar cÃ³digo con funciones mock o de prueba
   - âŒ NUNCA crear datos de prueba hardcodeados
   - âŒ NUNCA dejar TODOs o placeholders sin implementar
   - âŒ NUNCA crear funciones "de ejemplo" o "temporales"
   - âœ… TODO el cÃ³digo debe ser cÃ³digo de producciÃ³n funcional
   - âœ… TODAS las funciones deben estar completamente implementadas
   - âœ… TODOS los datos deben venir de fuentes reales (APIs, BD, etc.)

3. **ENTORNO DE PRODUCCIÃ“N**
   - âš ï¸ Este es un entorno 100% productivo
   - âš ï¸ Cualquier cambio afecta usuarios reales
   - âš ï¸ Todos los servicios estÃ¡n en producciÃ³n (AWS, Supabase, etc.)
   - âœ… Verificar impacto antes de cualquier cambio
   - âœ… Probar cambios localmente antes de sugerir despliegue

---

## ğŸ“‹ REGLAS GENERALES DE DESARROLLO

### ğŸ”§ Principios de CÃ³digo

1. **TypeScript Estricto**
   - Usar TypeScript para todo el cÃ³digo nuevo
   - Tipar todas las funciones, props, y estados
   - No usar `any` a menos que sea absolutamente necesario
   - Validar tipos en runtime cuando sea necesario

2. **React 19 Best Practices**
   - Componentes funcionales con hooks
   - Usar `useState`, `useEffect`, `useCallback`, `useMemo` apropiadamente
   - Evitar re-renders innecesarios
   - Manejar errores con boundaries y try-catch

3. **TailwindCSS Exclusivo**
   - NO crear archivos CSS adicionales
   - NO usar estilos inline (excepto dinÃ¡micos)
   - Usar clases de Tailwind y utilidades existentes
   - Seguir patrones de diseÃ±o establecidos

4. **Estado y Servicios**
   - Usar Zustand para estado global cuando sea necesario
   - Reutilizar servicios existentes (supabaseService, n8nService, etc.)
   - NO crear nuevos servicios sin verificar si existe uno similar
   - Mantener separaciÃ³n de responsabilidades

---

## ğŸ—ï¸ Arquitectura del Proyecto

### Estructura de Carpetas

```
src/
â”œâ”€â”€ components/        # Componentes React organizados por mÃ³dulo
â”œâ”€â”€ services/         # Servicios de negocio (Supabase, N8N, VAPI, etc.)
â”œâ”€â”€ hooks/            # Custom hooks reutilizables
â”œâ”€â”€ contexts/         # Context providers (Auth, etc.)
â”œâ”€â”€ stores/           # Zustand stores
â”œâ”€â”€ config/           # Configuraciones (Supabase, AWS, etc.)
â””â”€â”€ utils/            # Utilidades y helpers
```

### Servicios Principales

- `supabaseService` - Cliente Supabase principal
- `pqncSupabase` - Cliente Supabase para PQNC
- `n8nDeploymentServiceV3` - Servicio de despliegue N8N
- `intelligentImportService` - Servicio de importaciÃ³n inteligente
- `vapiService` - IntegraciÃ³n con VAPI
- `awsDiagramService` - GestiÃ³n de diagramas AWS

---

## ğŸ” Seguridad y Credenciales

### âŒ PROHIBIDO

- âŒ Hardcodear credenciales en el cÃ³digo
- âŒ Exponer API keys o secrets
- âŒ Commitear archivos `.env` o con credenciales
- âŒ Usar credenciales de producciÃ³n en desarrollo

### âœ… CORRECTO

- âœ… Usar variables de entorno (`import.meta.env.VITE_*`)
- âœ… Usar servicios de configuraciÃ³n existentes
- âœ… Validar permisos antes de operaciones sensibles
- âœ… Usar autenticaciÃ³n y autorizaciÃ³n apropiadas

---

## ğŸš€ Despliegue y Git

### Flujo de Trabajo Git

1. **Antes de hacer cambios**:
   - Verificar estado actual (`git status`)
   - Crear branch si es necesario (solo si el usuario lo solicita)
   - NO hacer commits automÃ¡ticos

2. **Al hacer cambios**:
   - Hacer cambios en archivos especÃ­ficos
   - Verificar que no hay errores de linting
   - NO hacer commit hasta que el usuario lo solicite

3. **Commit y Push**:
   - âœ… SOLO cuando el usuario lo solicite explÃ­citamente
   - Usar mensajes descriptivos y claros
   - NO hacer push automÃ¡tico
   - Verificar que el usuario quiere hacer push antes de ejecutar

4. **Despliegue AWS**:
   - âœ… SOLO cuando el usuario lo solicite explÃ­citamente
   - Verificar que el build funciona localmente primero
   - Ejecutar script de despliegue (`update-frontend.sh`)
   - Informar al usuario del resultado

---

## ğŸ§ª Testing y Calidad

### CÃ³digo de ProducciÃ³n

- âœ… Todo el cÃ³digo debe ser funcional y completo
- âœ… Manejar casos edge y errores apropiadamente
- âœ… Validar inputs y outputs
- âœ… Logging apropiado para debugging en producciÃ³n
- âœ… Comentarios claros cuando el cÃ³digo es complejo

### NO Permitido

- âŒ CÃ³digo de prueba o mock
- âŒ Funciones incompletas o con placeholders
- âŒ Datos hardcodeados de ejemplo
- âŒ Console.logs de debug sin propÃ³sito
- âŒ CÃ³digo comentado "por si acaso"

---

## ğŸ“ DocumentaciÃ³n

### Cuando Crear DocumentaciÃ³n

- âœ… Para nuevas funcionalidades complejas
- âœ… Para cambios en arquitectura
- âœ… Para procesos de despliegue
- âœ… Para configuraciones importantes

### Formato de DocumentaciÃ³n

- Usar Markdown
- Incluir ejemplos de cÃ³digo cuando sea Ãºtil
- Mantener actualizada con cambios
- Ubicar en carpeta `docs/` o como comentarios en cÃ³digo

---

## ğŸ¨ UI/UX

### Principios de DiseÃ±o

- Seguir guÃ­a de diseÃ±o de modales (ver workspace rules)
- Mantener consistencia visual
- Usar animaciones sutiles (framer-motion)
- Accesibilidad bÃ¡sica (aria-labels, keyboard navigation)
- Dark mode compatible

### Componentes Reutilizables

- Usar componentes existentes antes de crear nuevos
- Verificar si hay componentes similares en el proyecto
- Mantener componentes pequeÃ±os y enfocados
- Props tipadas con TypeScript

---

## ğŸ”„ Integraciones

### Supabase

- Usar clientes configurados (`pqncSupabase`, `supabaseService`)
- Manejar errores de Supabase apropiadamente
- Usar RPCs cuando sea necesario
- Validar permisos antes de operaciones

### AWS

- Usar servicios AWS existentes
- No crear recursos AWS sin autorizaciÃ³n
- Verificar costos antes de crear recursos
- Usar scripts de despliegue existentes

### N8N

- Usar `n8nDeploymentServiceV3` para despliegues
- No modificar workflows sin verificar impacto
- Validar configuraciÃ³n antes de desplegar

---

## âš ï¸ ADVERTENCIAS FINALES

1. **Este es un entorno de PRODUCCIÃ“N**
   - Usuarios reales dependen de esta aplicaciÃ³n
   - Cualquier cambio puede afectar operaciones
   - Verificar impacto antes de cambios

2. **NO hacer despliegues automÃ¡ticos**
   - Siempre esperar autorizaciÃ³n explÃ­cita
   - Verificar que el usuario quiere desplegar
   - Informar del resultado del despliegue

3. **NO generar cÃ³digo de prueba**
   - Todo debe ser cÃ³digo de producciÃ³n
   - Funciones completas y funcionales
   - Sin mocks ni datos de ejemplo

4. **Mantener calidad de cÃ³digo**
   - TypeScript estricto
   - Manejo de errores apropiado
   - CÃ³digo limpio y mantenible

---

## ğŸ“ Contacto y Soporte

- **Proyecto**: PQNC QA AI Platform
- **VersiÃ³n**: v2.1.0
- **Estado**: ProducciÃ³n Activa
- **Ãšltima ActualizaciÃ³n**: 25 de Noviembre 2025

---

**âš ï¸ RECUERDA: Este es un entorno de PRODUCCIÃ“N. ActÃºa con precauciÃ³n y siempre solicita autorizaciÃ³n antes de desplegar cambios.**

