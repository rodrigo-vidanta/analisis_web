---
description: Reglas del subproyecto Citas Vidanta - Vacation Planner Confirmaci√≥n
globs:
  - src/components/citas/**/*
  - public/assets/citas-*
---
# üèñÔ∏è Reglas del Subproyecto CITAS VIDANTA

**Sistema:** Vacation Planner Confirmaci√≥n  
**URL:** https://ai.vidavacations.com/citas  
**Versi√≥n:** 1.0.0

---

## üìã DESCRIPCI√ìN

Sistema de gesti√≥n de citas para Vacation Planner de Vidanta.
Subproyecto **aislado** del proyecto principal PQNC QA AI Platform.

---

## üóÇÔ∏è ESTRUCTURA DE ARCHIVOS

```
src/components/citas/
‚îú‚îÄ‚îÄ CitasApp.tsx          # Componente ra√≠z - maneja auth y navegaci√≥n
‚îú‚îÄ‚îÄ CitasLoginScreen.tsx  # Pantalla de login con dise√±o tropical
‚îú‚îÄ‚îÄ CitasDashboard.tsx    # Dashboard principal con sidebar
‚îú‚îÄ‚îÄ index.ts              # Exports del m√≥dulo
‚îî‚îÄ‚îÄ README.md             # Documentaci√≥n t√©cnica

public/assets/
‚îú‚îÄ‚îÄ citas-background-beach.png    # Fondo login (playa acuarela)
‚îú‚îÄ‚îÄ citas-login-success.mp3       # Audio de gaviotas (√©xito login)
‚îú‚îÄ‚îÄ citas-workspace-light.png     # Fondo workspace modo claro
‚îú‚îÄ‚îÄ citas-workspace-dark.png      # Fondo workspace modo oscuro
‚îú‚îÄ‚îÄ citas-sidebar-light.png       # Fondo sidebar modo claro
‚îî‚îÄ‚îÄ citas-sidebar-dark.png        # Fondo sidebar modo oscuro
```

---

## üé® SISTEMA DE DISE√ëO

### Tipograf√≠a Principal: Montserrat

```tsx
// Importar en cada componente
<link 
  href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;300;400;500;600;700;800;900&display=swap" 
  rel="stylesheet" 
/>

// Aplicar en estilos
style={{ fontFamily: "'Montserrat', sans-serif", fontWeight: 500 }}
```

| Uso | Weight | Size | Tracking |
|-----|--------|------|----------|
| T√≠tulos grandes | 600 | 5xl-7xl | tight |
| Subt√≠tulos | 500-600 | base-lg | 0.2em-0.3em |
| Texto normal | 400-500 | sm | normal |
| Labels peque√±os | 300-400 | xs-[10px] | 0.15em-0.25em |

### Paleta de Colores

#### Modo Claro
```css
--teal-500: #14b8a6     /* Botones, acentos */
--teal-600: #0d9488     /* Hover states */
--gray-700: #374151     /* Texto principal */
--gray-600: #4b5563     /* Texto secundario */
--white/60-80           /* Cards, inputs */
```

#### Modo Oscuro
```css
--teal-600: #0d9488     /* Botones, acentos */
--gray-800: #1f2937     /* Fondos cards */
--gray-300: #d1d5db     /* Texto principal */
--gray-900/50-60        /* Overlays */
```

### Efectos Visuales

#### Glassmorphism (Login)
```tsx
style={{ 
  backgroundColor: 'rgba(255, 255, 255, 0.2)',  // 20% opaco
  backdropFilter: 'blur(10px)'
}}
```

#### Cards del Dashboard
```tsx
className={`
  p-6 rounded-2xl backdrop-blur-sm shadow-xl
  ${darkMode ? 'bg-gray-800/60' : 'bg-white/60'}
`}
```

#### Resplandor en Logo
```tsx
style={{
  filter: `
    drop-shadow(0 0 12px rgba(255, 255, 255, 0.9))
    drop-shadow(0 0 20px rgba(255, 255, 255, 0.7))
    drop-shadow(0 0 30px rgba(255, 255, 255, 0.5))
  `,
}}
```

#### Resplandor en Texto
```tsx
style={{
  textShadow: darkMode 
    ? '0 0 10px rgba(255, 255, 255, 0.3), 0 0 20px rgba(255, 255, 255, 0.15)' 
    : '0 0 8px rgba(255, 255, 255, 0.6), 0 0 16px rgba(255, 255, 255, 0.4)'
}}
```

---

## ‚ú® ANIMACIONES (Framer Motion)

### Transiciones de P√°gina
```tsx
<AnimatePresence mode="wait">
  <motion.div
    key="unique-key"
    initial={{ opacity: 0 }}
    animate={{ opacity: 1 }}
    exit={{ opacity: 0 }}
    transition={{ duration: 0.3 }}
  >
```

### Entrada de Elementos
```tsx
<motion.div
  initial={{ opacity: 0, y: 20 }}
  animate={{ opacity: 1, y: 0 }}
  transition={{ delay: 0.2, duration: 0.6 }}
>
```

### Hover/Tap en Botones
```tsx
<motion.button
  whileHover={{ scale: 1.02 }}
  whileTap={{ scale: 0.98 }}
>
```

### Sidebar Colapsable
```tsx
<motion.aside
  initial={false}
  animate={{ width: sidebarCollapsed ? 80 : 280 }}
  transition={{ duration: 0.3, ease: 'easeInOut' }}
>
```

---

## üîê AUTENTICACI√ìN

### Servicio: authService del proyecto principal
```tsx
import { authService } from '../../services/authService';
```

### Flujo
1. **Verificar sesi√≥n:** `authService.initialize()`
2. **Login:** `authService.login({ email, password })`
3. **Logout:** `authService.logout()`

### Audio de √âxito
```tsx
const LOGIN_SUCCESS_AUDIO_URL = '/assets/citas-login-success.mp3';

const playLoginSuccessSound = () => {
  const audio = new Audio(LOGIN_SUCCESS_AUDIO_URL);
  audio.volume = 0.5;
  audio.play().catch(() => {});
};
```

---

## üñºÔ∏è ASSETS Y FONDOS

### Rutas
```tsx
const ASSETS = {
  workspaceLight: '/assets/citas-workspace-light.png',
  workspaceDark: '/assets/citas-workspace-dark.png',
  sidebarLight: '/assets/citas-sidebar-light.png',
  sidebarDark: '/assets/citas-sidebar-dark.png',
};
const BACKGROUND_IMAGE_URL = '/assets/citas-background-beach.png';
```

### Configuraci√≥n de Fondos

#### Login (Background completo)
```tsx
<div 
  className="absolute inset-0 bg-cover bg-center bg-no-repeat"
  style={{ backgroundImage: `url(${BACKGROUND_IMAGE_URL})` }}
/>
```

#### Sidebar (Recortado a la izquierda)
```tsx
<img 
  src={darkMode ? ASSETS.sidebarDark : ASSETS.sidebarLight}
  className="absolute inset-0 w-full h-full object-cover object-left"
/>
{darkMode && <div className="absolute inset-0 bg-gray-900/50" />}
```

#### Workspace (Opacidad en modo claro)
```tsx
<img 
  src={darkMode ? ASSETS.workspaceDark : ASSETS.workspaceLight}
  className="w-full h-full object-cover"
  style={{ opacity: darkMode ? 1 : 0.6 }}
/>
{darkMode && <div className="absolute inset-0 bg-gray-900/20" />}
```

---

## üìê JERARQU√çA Z-INDEX

```
z-[100]  ‚Üí Men√∫s emergentes (dropdowns)
z-30     ‚Üí Header del √°rea de trabajo
z-20     ‚Üí Bot√≥n toggle sidebar
z-10     ‚Üí Contenido del sidebar
z-5      ‚Üí Contenido principal
z-0      ‚Üí Capas de fondo (im√°genes)
```

---

## ‚ö†Ô∏è REGLAS CR√çTICAS

### ‚ùå PROHIBIDO
1. Modificar archivos fuera de `/src/components/citas/`
2. Crear nuevos servicios de autenticaci√≥n
3. Hardcodear credenciales
4. Usar overlays blancos en modo claro (ocultan im√°genes)
5. Z-index negativos en fondos

### ‚úÖ OBLIGATORIO
1. Usar Montserrat como fuente √∫nica
2. Mantener consistencia de colores teal/gray
3. Usar framer-motion para animaciones
4. Soportar modo claro Y oscuro
5. Usar react-hot-toast para notificaciones
6. Tipar todo con TypeScript

### üí° RECOMENDADO
- Usar `object-left` para sidebar (recortar im√°genes)
- Aplicar opacidad a im√°genes en modo claro
- Cerrar men√∫s con useRef + mousedown listener

---

## üîó DEPENDENCIAS DEL PROYECTO PRINCIPAL

```tsx
// Hooks
import { useSystemConfig } from '../../hooks/useSystemConfig';

// Servicios
import { authService } from '../../services/authService';

// Librer√≠as
import { Toaster } from 'react-hot-toast';
import { motion, AnimatePresence } from 'framer-motion';
import { Home, Calendar, Users, Settings, LogOut } from 'lucide-react';
```

---

## üöÄ DESARROLLO LOCAL

```
URL: http://localhost:5173/citas
```

### Configuraci√≥n en main.tsx
```tsx
<Routes>
  <Route path="/" element={<App />} />
  <Route path="/citas/*" element={<CitasApp />} />
</Routes>
```

---

## üìù COMPONENTES

| Componente | Responsabilidad | Props |
|------------|-----------------|-------|
| `CitasApp` | Orquestar auth y navegaci√≥n | - |
| `CitasLoginScreen` | Pantalla de login | onLoginSuccess(user) |
| `CitasDashboard` | Dashboard principal | onLogout, userEmail, userName |

---

## üéØ TODO (Pr√≥ximos pasos)

- [ ] Registro de usuarios
- [ ] OAuth con Office 365
- [ ] M√≥dulo "Mis Citas" funcional
- [ ] M√≥dulo "Destinos" con cat√°logo
- [ ] Notificaciones push
- [ ] Responsive m√≥vil completo
